<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-bounce.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="google-site-verification" content="google0e97c5a36dad8606" />













  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hyperledger," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta name="description" content="从零部署Hyperledger Composer此文档为官方教程的整合，官方教程 配置开发环境准备环境 Ubuntu Linux 14.04 / 16.04 LTS  Docker Engine：版本17.03或更高版本 Docker-Compose：版本1.8或更高版本 Node: 8.9 or higher (note version 9 is not supported) npm: v5.x">
<meta name="keywords" content="Hyperledger">
<meta property="og:type" content="article">
<meta property="og:title" content="从零部署Hyperledger Composer">
<meta property="og:url" content="http://wwb.colonp.top/2018/08/11/从零部署Hyperledger Composer/index.html">
<meta property="og:site_name" content="Wwb&#39;s blog">
<meta property="og:description" content="从零部署Hyperledger Composer此文档为官方教程的整合，官方教程 配置开发环境准备环境 Ubuntu Linux 14.04 / 16.04 LTS  Docker Engine：版本17.03或更高版本 Docker-Compose：版本1.8或更高版本 Node: 8.9 or higher (note version 9 is not supported) npm: v5.x">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2018-08-14T09:05:31.694Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="从零部署Hyperledger Composer">
<meta name="twitter:description" content="从零部署Hyperledger Composer此文档为官方教程的整合，官方教程 配置开发环境准备环境 Ubuntu Linux 14.04 / 16.04 LTS  Docker Engine：版本17.03或更高版本 Docker-Compose：版本1.8或更高版本 Node: 8.9 or higher (note version 9 is not supported) npm: v5.x">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://wwb.colonp.top/2018/08/11/从零部署Hyperledger Composer/"/>





  <title>从零部署Hyperledger Composer | Wwb's blog</title>
  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-123886488-1', 'auto');
  ga('send', 'pageview');
</script>


  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?f79a03d936d4ebb46a18c7be00bc054c";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>










</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Wwb's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description"></h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://wwb.colonp.top/2018/08/11/从零部署Hyperledger Composer/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Wwb">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Wwb's blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">从零部署Hyperledger Composer</h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-08-11T16:30:50+08:00">
                2018-08-11
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/区块链/" itemprop="url" rel="index">
                    <span itemprop="name">区块链</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/08/11/从零部署Hyperledger Composer/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/08/11/从零部署Hyperledger Composer/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2018/08/11/从零部署Hyperledger Composer/" class="leancloud_visitors" data-flag-title="从零部署Hyperledger Composer">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="从零部署Hyperledger-Composer"><a href="#从零部署Hyperledger-Composer" class="headerlink" title="从零部署Hyperledger Composer"></a>从零部署Hyperledger Composer</h1><p>此文档为官方教程的整合，<a href="https://hyperledger.github.io/composer/latest/installing/installing-index" target="_blank" rel="noopener">官方教程</a></p>
<h2 id="配置开发环境"><a href="#配置开发环境" class="headerlink" title="配置开发环境"></a>配置开发环境</h2><h3 id="准备环境"><a href="#准备环境" class="headerlink" title="准备环境"></a>准备环境</h3><ul>
<li>Ubuntu Linux 14.04 / 16.04 LTS </li>
<li>Docker Engine：版本17.03或更高版本</li>
<li>Docker-Compose：版本1.8或更高版本</li>
<li>Node: 8.9 or higher (note version 9 is not supported)</li>
<li>npm: v5.x</li>
<li>git: 2.9.x or higher</li>
<li>Python: 2.7.x</li>
</ul>
<p>you can download the prerequisites using the following commands:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -O https://hyperledger.github.io/composer/latest/prereqs-ubuntu.sh</span><br><span class="line"></span><br><span class="line">chmod u+x prereqs-ubuntu.sh</span><br></pre></td></tr></table></figure>
<p>Next run the script - as this briefly uses sudo during its execution, you will be prompted for your password.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./prereqs-ubuntu.sh</span><br></pre></td></tr></table></figure>
<h3 id="安装开发环境"><a href="#安装开发环境" class="headerlink" title="安装开发环境"></a>安装开发环境</h3><p>不应使用<code>su</code>或<code>sudo</code>执行以下安装命令</p>
<h5 id="Step-1-Install-the-CLI-tools"><a href="#Step-1-Install-the-CLI-tools" class="headerlink" title="Step 1: Install the CLI tools"></a>Step 1: Install the CLI tools</h5><ol>
<li><p>Essential CLI tools:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g composer-cli@0.19</span><br></pre></td></tr></table></figure>
</li>
<li><p>Utility for running a REST Server on your machine to expose your business networks as RESTful APIs:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g composer-rest-server@0.19</span><br></pre></td></tr></table></figure>
</li>
<li><p>Useful utility for generating application assets:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g generator-hyperledger-composer@0.19</span><br></pre></td></tr></table></figure>
</li>
<li><p>Yeoman is a tool for generating applications, which utilises <code>generator-hyperledger-composer</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g yo</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h5 id="Step-2-Install-Playground"><a href="#Step-2-Install-Playground" class="headerlink" title="Step 2: Install Playground"></a>Step 2: Install Playground</h5><p>Browser app for simple editing and testing Business Networks:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g composer-playground@0.19</span><br></pre></td></tr></table></figure>
<h5 id="Step-3-Set-up-your-IDE"><a href="#Step-3-Set-up-your-IDE" class="headerlink" title="Step 3: Set up your IDE"></a>Step 3: Set up your IDE</h5><p>在<code>VSCode</code>中打开composer的代码，会自动提示安装插件以支持<code>.cto</code> <code>.qry</code>等文件。</p>
<h5 id="Step-4-Install-Hyperledger-Fabric"><a href="#Step-4-Install-Hyperledger-Fabric" class="headerlink" title="Step 4: Install Hyperledger Fabric"></a>Step 4: Install Hyperledger Fabric</h5><p>This step gives you a local Hyperledger Fabric runtime to deploy your business networks to.</p>
<ol>
<li><p>In a directory of your choice (we will assume <code>~/fabric-dev-servers</code>), get the <code>.tar.gz</code> file that contains the tools to install Hyperledger Fabric:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkdir ~/fabric-dev-servers &amp;&amp; cd ~/fabric-dev-servers</span><br><span class="line"></span><br><span class="line">curl -O https://raw.githubusercontent.com/hyperledger/composer-tools/master/packages/fabric-dev-servers/fabric-dev-servers.tar.gz</span><br><span class="line">tar -xvf fabric-dev-servers.tar.gz</span><br></pre></td></tr></table></figure>
<p>A <code>zip</code> is also available if you prefer: just replace the <code>.tar.gz</code> file with <code>fabric-dev-servers.zip</code> and the <code>tar -xvf</code> command with a <code>unzip</code> command in the preceding snippet.</p>
</li>
<li><p>Use the scripts you just downloaded and extracted to download a local Hyperledger Fabric v1.1 runtime:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd ~/fabric-dev-servers</span><br><span class="line">export FABRIC_VERSION=hlfv11</span><br><span class="line">./downloadFabric.sh</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>至此，开发环境已部署好了。</p>
<h2 id="开发及部署"><a href="#开发及部署" class="headerlink" title="开发及部署"></a>开发及部署</h2><h3 id="创建业务网络结构-Creating-a-business-network-structure"><a href="#创建业务网络结构-Creating-a-business-network-structure" class="headerlink" title="创建业务网络结构(Creating a business network structure)"></a>创建业务网络结构(Creating a business network structure)</h3><p>The key concept for Hyperledger Composer is the <strong>business network definition (BND)</strong>. It defines the data model, transaction logic and access control rules for your blockchain solution. To create a BND, we need to create a suitable project structure on disk. </p>
<p>Create a skeleton business network using Yeoman. This command will require a business network name, description, author name, author email address, license selection and namespace.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yo hyperledger-composer:businessnetwork</span><br></pre></td></tr></table></figure>
<p>然后会有交互式的选项，按实际开发情况填写。此命令用于生成一个BND的框架。</p>
<p>框架结构如下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">models/ (optional)						# 模型文件 .cto</span><br><span class="line">lib/								   # 脚本文件 .js</span><br><span class="line">permissions.acl (optional)				 # 权限控制</span><br><span class="line">package.json</span><br><span class="line">README.md (optional)</span><br></pre></td></tr></table></figure>
<p>然后根据项目需求进行开发，VSCode中有支持Composer开发的插件。</p>
<h6 id="References"><a href="#References" class="headerlink" title="References"></a>References</h6><ul>
<li><a href="https://hyperledger.github.io/composer/latest/reference/cto_language.html" target="_blank" rel="noopener"><strong>Modeling Language</strong></a></li>
<li><a href="https://hyperledger.github.io/composer/latest/reference/acl_language.html" target="_blank" rel="noopener"><strong>Access Control Language</strong></a></li>
<li><a href="https://hyperledger.github.io/composer/latest/reference/js_scripts.html" target="_blank" rel="noopener"><strong>Transaction Processor Functions</strong></a></li>
</ul>
<h3 id="打包业务网络-生成-bna"><a href="#打包业务网络-生成-bna" class="headerlink" title="打包业务网络(生成.bna)"></a>打包业务网络(生成.bna)</h3><p>开发完，即定义好business network之后，需要将它打包成<code>.bna</code>文件，才能部署。</p>
<p>进入到business network的项目目录，执行以下命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer archive create -t dir -n .</span><br></pre></td></tr></table></figure>
<p>然后会在当前目录生成一个<code>.bna</code>文件</p>
<h3 id="部署业务网络"><a href="#部署业务网络" class="headerlink" title="部署业务网络"></a>部署业务网络</h3><p>创建好<code>.bna</code>文件之后，可以将业务网络部署到Hyperledger Fabric实例。</p>
<p>将业务网络部署到Fabirc的前提是：已导入PeerAdminCard并开启Fabirc</p>
<ul>
<li>导入<code>PeerAdminCard</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./createPeerAdminCard.sh</span><br></pre></td></tr></table></figure>
<ul>
<li>开启Fabirc</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~/fabric-dev-servers/startFabric.sh</span><br></pre></td></tr></table></figure>
<ol>
<li><p>To install the business network, from the <code>tutorial-network</code> directory, run the following command:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer network install --card PeerAdmin@hlfv1 --archiveFile tutorial-network@0.0.1.bna</span><br></pre></td></tr></table></figure>
<p>The <code>composer network install</code> command requires a PeerAdmin business network card (in this case one has been created and imported in advance), and the the file path of the <code>.bna</code> which defines the business network.</p>
</li>
</ol>
<ol start="2">
<li><p>To start the business network, run the following command:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer network start --networkName tutorial-network --networkVersion 0.0.1 --networkAdmin admin --networkAdminEnrollSecret adminpw --card PeerAdmin@hlfv1 --file networkadmin.card</span><br></pre></td></tr></table></figure>
<p>The <code>composer network start</code> command requires a business network card, as well as the name of the admin identity for the business network, the name and version of the business network and the name of the file to be created ready to import as a business network card.</p>
</li>
</ol>
<ol start="3">
<li><p>To import the network administrator identity as a usable business network card, run the following command:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer card import --file networkadmin.card</span><br></pre></td></tr></table></figure>
<p>The <code>composer card import</code> command requires the filename specified in <code>composer network start</code> to create a card.</p>
</li>
</ol>
<ol start="4">
<li><p>To check that the business network has been deployed successfully, run the following command to ping the network:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer network ping --card admin@tutorial-network</span><br></pre></td></tr></table></figure>
<p>The <code>composer network ping</code> command requires a business network card to identify the network to ping.</p>
</li>
</ol>
<h3 id="自动生成并开启REST服务器"><a href="#自动生成并开启REST服务器" class="headerlink" title="自动生成并开启REST服务器"></a>自动生成并开启REST服务器</h3><p>To create the REST API, navigate to the <code>tutorial-network</code> directory and run the following command:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer-rest-server</span><br></pre></td></tr></table></figure>
<p>然后会出现交互式的设置，按需求配置即可。</p>
<h2 id="开发环境的相关控制"><a href="#开发环境的相关控制" class="headerlink" title="开发环境的相关控制"></a>开发环境的相关控制</h2><p>The first time you start up a new runtime, you’ll need to run the start script, then generate a PeerAdmin card:</p>
<p>配置环境变量：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd ~/fabric-dev-servers</span><br><span class="line">export FABRIC_VERSION=hlfv11</span><br></pre></td></tr></table></figure>
<h5 id="开启Fabric："><a href="#开启Fabric：" class="headerlink" title="开启Fabric："></a>开启Fabric：</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./startFabric.sh</span><br></pre></td></tr></table></figure>
<h5 id="创建PeerAdminCard"><a href="#创建PeerAdminCard" class="headerlink" title="创建PeerAdminCard"></a>创建<code>PeerAdminCard</code></h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./createPeerAdminCard.sh</span><br></pre></td></tr></table></figure>
<h5 id="启动playground"><a href="#启动playground" class="headerlink" title="启动playground"></a>启动playground</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer-playground</span><br></pre></td></tr></table></figure>
<h5 id="启动rest-api"><a href="#启动rest-api" class="headerlink" title="启动rest-api"></a>启动rest-api</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer-rest-server</span><br></pre></td></tr></table></figure>
<h5 id="删除前一个配置"><a href="#删除前一个配置" class="headerlink" title="删除前一个配置"></a>删除前一个配置</h5><p>If you’ve previously used an older version of <strong>Hyperledger Composer</strong> and are now setting up a new install, you may want to kill and remove all previous Docker containers, which you can do with these commands:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker kill $(docker ps -q)</span><br><span class="line">docker rm $(docker ps -aq)</span><br><span class="line">docker rmi $(docker images dev-* -q)</span><br></pre></td></tr></table></figure>

      
    </div>
    
    
    

    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>请作者喝一杯咖啡</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>Donate</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/wechatpay.png" alt="Wwb WeChat Pay"/>
        <p>WeChat Pay</p>
      </div>
    

    

    

  </div>
</div>

      </div>
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Hyperledger/" rel="tag"><i class="fa fa-tag"></i> Hyperledger</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/08/09/Docker学习笔记/" rel="next" title="Docker学习笔记">
                <i class="fa fa-chevron-left"></i> Docker学习笔记
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/08/14/Java Spring Boot 学习笔记/" rel="prev" title="Spring Boot 学习笔记">
                Spring Boot 学习笔记 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpg"
               alt="Wwb" />
          <p class="site-author-name" itemprop="name">Wwb</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
           
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">10</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">9</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">11</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/SoulWwb" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                    
                      GitHub
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="mailto:wwb159874@163.com" target="_blank" title="E-Mail">
                  
                    <i class="fa fa-fw fa-envelope"></i>
                  
                    
                      E-Mail
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://steamcommunity.com/profiles/76561198105266433/" target="_blank" title="Steam">
                  
                    <i class="fa fa-fw fa-steam-square"></i>
                  
                    
                      Steam
                    
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              Links
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="https://wwb.colonp.top" title="博客主站" target="_blank">博客主站</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://blog.csdn.net/Domino_b" title="CSDN博客" target="_blank">CSDN博客</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://soulwwb.github.io" title="GitHub.io" target="_blank">GitHub.io</a>
                </li>
              
            </ul>
          </div>
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#从零部署Hyperledger-Composer"><span class="nav-number">1.</span> <span class="nav-text">从零部署Hyperledger Composer</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#配置开发环境"><span class="nav-number">1.1.</span> <span class="nav-text">配置开发环境</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#准备环境"><span class="nav-number">1.1.1.</span> <span class="nav-text">准备环境</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#安装开发环境"><span class="nav-number">1.1.2.</span> <span class="nav-text">安装开发环境</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Step-1-Install-the-CLI-tools"><span class="nav-number">1.1.2.0.1.</span> <span class="nav-text">Step 1: Install the CLI tools</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Step-2-Install-Playground"><span class="nav-number">1.1.2.0.2.</span> <span class="nav-text">Step 2: Install Playground</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Step-3-Set-up-your-IDE"><span class="nav-number">1.1.2.0.3.</span> <span class="nav-text">Step 3: Set up your IDE</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Step-4-Install-Hyperledger-Fabric"><span class="nav-number">1.1.2.0.4.</span> <span class="nav-text">Step 4: Install Hyperledger Fabric</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#开发及部署"><span class="nav-number">1.2.</span> <span class="nav-text">开发及部署</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#创建业务网络结构-Creating-a-business-network-structure"><span class="nav-number">1.2.1.</span> <span class="nav-text">创建业务网络结构(Creating a business network structure)</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#References"><span class="nav-number">1.2.1.0.0.1.</span> <span class="nav-text">References</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#打包业务网络-生成-bna"><span class="nav-number">1.2.2.</span> <span class="nav-text">打包业务网络(生成.bna)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#部署业务网络"><span class="nav-number">1.2.3.</span> <span class="nav-text">部署业务网络</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#自动生成并开启REST服务器"><span class="nav-number">1.2.4.</span> <span class="nav-text">自动生成并开启REST服务器</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#开发环境的相关控制"><span class="nav-number">1.3.</span> <span class="nav-text">开发环境的相关控制</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#开启Fabric："><span class="nav-number">1.3.0.0.1.</span> <span class="nav-text">开启Fabric：</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#创建PeerAdminCard"><span class="nav-number">1.3.0.0.2.</span> <span class="nav-text">创建PeerAdminCard</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#启动playground"><span class="nav-number">1.3.0.0.3.</span> <span class="nav-text">启动playground</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#启动rest-api"><span class="nav-number">1.3.0.0.4.</span> <span class="nav-text">启动rest-api</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#删除前一个配置"><span class="nav-number">1.3.0.0.5.</span> <span class="nav-text">删除前一个配置</span></a></li></ol></li></ol></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-wwb"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Wwb</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      本站访客数
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      人次
    </span>
  

  
    <span class="site-pv">
      本站总访问量
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      次
    </span>
  
</div>


        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>

  
  <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  

    
      <script id="dsq-count-scr" src="https://wwb-blog.disqus.com/count.js" async></script>
    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'http://wwb.colonp.top/2018/08/11/从零部署Hyperledger Composer/';
          this.page.identifier = '2018/08/11/从零部署Hyperledger Composer/';
          this.page.title = '从零部署Hyperledger Composer';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://wwb-blog.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  




	





  








  





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("cjPpttlbB3KD8kuS4VqOqGLB-gzGzoHsz", "bkPG0LjJgtXqHfVj4LU6vJQz");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  

  

  

  

</body>
</html>
